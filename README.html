<HTML>
<HEAD>
<TITLE>PETSc-FEM - a general  purpose,  parallel, multi-physics  FEM program</TITLE>
<LINK REV="made" HREF="mailto:root@porky.redhat.com">
</HEAD>

<BODY>

<!-- INDEX BEGIN -->

<UL>

	<LI><A HREF="#NAME">NAME</A>
	<LI><A HREF="#SYNOPSIS">SYNOPSIS </A>
	<LI><A HREF="#LICENSE">LICENSE</A>
	<LI><A HREF="#INSTALLATION">INSTALLATION</A>
	<UL>

		<LI><A HREF="#Platforms">Platforms</A>
		<LI><A HREF="#Required_Software">Required Software</A>
		<LI><A HREF="#Unpacking">Unpacking</A>
		<LI><A HREF="#Makefile_variables">Makefile variables</A>
		<LI><A HREF="#Configuring">Configuring</A>
		<LI><A HREF="#Compiling">Compiling</A>
	</UL>

	<LI><A HREF="#DOCUMENTATION">DOCUMENTATION</A>
	<LI><A HREF="#TESTS_AND_EXAMPLES">TESTS AND EXAMPLES</A>
	<LI><A HREF="#WRITING_A_NEW_APPLICATION_MODULE">WRITING A NEW APPLICATION MODULE</A>
	<LI><A HREF="#AUTHORS">AUTHORS</A>
	<LI><A HREF="#CONTACTS">CONTACTS</A>
</UL>
<!-- INDEX END -->

<HR>
<P>
<H1><A NAME="NAME">NAME</A></H1>
<P>
PETSc-FEM - a general purpose, parallel, multi-physics FEM program 

<P>
<HR>
<H1><A NAME="SYNOPSIS">SYNOPSIS</A></H1>
<P>
This is PETSc-FEM, a general purpose, parallel, multi-physics FEM program
for CFD applications based on PETSc. PETSc-FEM comprises both a library
that allows the user to develop FEM (or FEM-like, i.e. structured mesh
oriented) programs, and a suite of application programs. It is written in
the C++ language with an OOP (Object Oriented Programming) philosophy, but
always keeping in mind the scope of efficiency.

<P>
PETSc-FEM is GPL, for further details read the file COPYING in the root
directory of the distribution.

<P>
<HR>
<H1><A NAME="LICENSE">LICENSE</A></H1>
<P>
This file belongs to he PETSc - FEM package a library and application suite
oriented to the Finite Element Method based on PETSc. Copyright (C)
1999-2001, Mario Alberto Storti, Norberto Marcelo Nigro, Centro
Internacional de Metodos Numericos en Ingenieria (CIMEC-Argentina),
Universidad Nacional del Litoral (UNL-Argentina), Consejo Nacional de
Investigaciones Cientificas y Tecnicas (UNL-Argentina).

<P>
This program is free software; you can redistribute it and/or modify it
under the terms of the GNU General Public License as published by the Free
Software Foundation; either version 2 of the License, or (at your option)
any later version.

<P>
This program is distributed in the hope that it will be useful, but WITHOUT
ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
more details.

<P>
You should have received a copy of the GNU General Public License along
with this program; if not, write to the Free Software Foundation, Inc., 59
Temple Place, Suite 330, Boston, MA 02111-1307, USA.

<P>
<HR>
<H1><A NAME="INSTALLATION">INSTALLATION</A></H1>
<P>
<HR>
<H2><A NAME="Platforms">Platforms</A></H2>
<P>
Currently, PETSc-FEM is known to run only on Beowulf class clusters based
on Intel processors, running the GNU/Linux OS. Off course, you can also
install PETSc-FEM in a single Linux box, for use in sequential (i.e.
non-parallel) mode or either for simulating parallel runs, by launching
several processes in the same processor. (This is a feature of MPI).

<P>
I guess it may be easy to install in other processor architectures (SPARC
or Alpha) running Linux and also (maybe) on other Unix flavours.

<P>
<HR>
<H2><A NAME="Required_Software">Required Software</A></H2>
<P>
Before installing PETSc-FEM, please verify you have the following packages
correctly installed in your system. 

<DL>
<DT><STRONG><A NAME="item_MPI">MPI</A></STRONG><DD>
<P>
This is the Message Passing Interface. We are currently using MPICH (<CODE>http://www.mcs.anl.gov/mpich</CODE>) but I think there will be not problem with LAM MPI.

<DT><STRONG><A NAME="item_PETSC">PETSC</A></STRONG><DD>
<P>
This is the 'Portable, Extensible Toolkit for Scientific Computation' and
can be found at <CODE>http://www.mcs.anl.gov/petsc/</CODE>.

<DT><STRONG><A NAME="item_LAPACK">LAPACK</A></STRONG><DD>
<P>
This is, in fact, a prerequisiste to install PETSc and can be found at 
<CODE>http://www.netlib.org/lapack/</CODE>. 

<DT><STRONG><A NAME="item_Libretto">Libretto</A></STRONG><DD>
<P>
This is a C library of generic containers and can be found at
<CODE>http://pobox.com/~aaronc/tech/libretto/</CODE>. I have learned recently that development of Libretto has been stopped
since it has been superseded by <STRONG>GLIB</STRONG>, so that I think that in a future I will replace the Libretto code by <STRONG>GLIB</STRONG>. Also, the STL library (that comes with gcc) can replace all or some of
the features provided by <STRONG>Libretto</STRONG>
but I found that the STL implementation (at least that one that comes with
gcc) is rather inefficient. 

<DT><STRONG><A NAME="item_GLIB">GLIB</A></STRONG><DD>
<P>
GLIB is a library which includes support routines for C such as lists,
trees, hashes, memory allocation, and many other things. The official web
site is <CODE>http://www.gtk.org/</CODE>. [RedHat RPM packages: <A HREF="#item_GLIB">GLIB</A>,
<CODE>glib-devel</CODE>]

<DT><STRONG><A NAME="item_Newmat">Newmat</A></STRONG><DD>
<P>
This is a matrix library to be used mainly at the element routine level,
i.e. for small matrices and can be found at
<CODE>http://webnz.com/robert/</CODE>. It is not mandatory to use Newmat for all element calculations. In fact
there is included a matrix class called FastMat2 that is more performant,
but Newmat is still used in some internal parts and has much more
functions, so that you have to install it. Also, you may prefer <EM>Newmat</EM> over <EM>FastMat2</EM> for element calculations since it supports overloading of algebraic
operations. See the documentation on <EM>FastMat2</EM> in the <EM>PETSc-FEM</EM>
documentation for reasons why to use FastMat2 instead of Newmat.

<DT><STRONG><A NAME="item_ANN">ANN</A></STRONG><DD>
<P>
This is the <EM>Approximate Nearest Neighbor Library</EM> and can be found at <CODE>http://www.cs.umd.edu/~mount/ANN</CODE>. Currently it is only used in the Navier-Stokes module for calculating the
damping functions in the Smagorinsky model. However, in a future it may be
used more widely for some mesh manipulations.

<DT><STRONG><A NAME="item_METIS">METIS</A></STRONG><DD>
<P>
METIS is a software package for partitioning unstructured graphs,
partitioning meshes, and computing fill-reducing orderings of sparse
matrices. It can be found at <CODE>http://www.cs.umn.edu/~metis</CODE>. 

<DT><STRONG><A NAME="item_Meschach">Meschach</A></STRONG><DD>
<P>
The Meschach Library is a numerical library of C routines for performing
calculations on matrices and vectors. It is used only for some functions
that can not be done with Newmat. Currently, it is used in the advective
module for performing eigenvalue decomposition of non-symettric matrices. I
think that in a future this functionality could be replaced by calls to
LAPACK. 

<DT><STRONG><A NAME="item_ePerl">ePerl</A></STRONG><DD>
<P>
<STRONG>ePerl</STRONG> (for <EM>embedded Perl</EM>) is a preprocessor much like the <STRONG>C</STRONG>
language preprocessor (home page:
<CODE>http://www.engelschall.com/sw/eperl/</CODE>). <STRONG>ePerl</STRONG> allows you to embed arbitrary <STRONG>Perl</STRONG> code in your document. It is not required at all, but is is very useful for
preprocessing the data files. [RedHat RPM package: <CODE>eperl</CODE>].

<DT><STRONG><A NAME="item_Perl">Perl</A></STRONG><DD>
<P>
If you want to use <STRONG>ePerl</STRONG> then you need to have <STRONG>Perl</STRONG>
installed. [RedHat RPM package: <CODE>perl</CODE>].

</DL>
<P>
<HR>
<H2><A NAME="Unpacking">Unpacking</A></H2>
<P>
Once you got the <EM>petscfem-beta-1.83.tar.gz</EM> package, gunzip and untar it like this:

<P>
<PRE>  $ gunzip petscfem-beta-1.83.tar.gz
  $ tar xvf petscfem-beta-1.83.tar
</PRE>
<P>
This will create a <EM>petscfem-beta-1.83</EM> directory with all the source files included.

<P>
<HR>
<H2><A NAME="Makefile_variables">Makefile variables</A></H2>
<DL>
<DT><STRONG><A NAME="item__PETSCFEM_DIR_">$(PETSCFEM_DIR)</A></STRONG><DD>
<P>
The root of the PETSc-FEM package

<DT><STRONG><A NAME="item__PETSC_ARCH_">$(PETSC_ARCH), $(PETSC_HOME)</A></STRONG><DD>
<P>
These are variables relative to PETSc. See the PETSc documentation.

</DL>
<P>
<HR>
<H2><A NAME="Configuring">Configuring</A></H2>
<P>
Once you have all the software mentioned in <A HREF="#Required_Software">Required Software</A>
installed, you have to define the variables in the <STRONG>CONFIGURATION
VARIABLES</STRONG> section in file <EM>$(PETSCFEM_DIR)/Makefile.base</EM>. 

<UL>
<LI>
<P>
First you have to set the <CODE>BOPT PETSc</CODE> variable. You can set it to 

<DL>
<DT><STRONG><A NAME="item_BOPT">BOPT = g_c++</A></STRONG><DD>
<P>
Compiles for debugging.

<DT><STRONG>BOPT = O_c++</STRONG><DD>
<P>
Compiles with optimization enabled.

</DL>
<P>
The optimization level is inherited from the <CODE>PETSc</CODE> installation (it is defined in <CODE>$(PETSC_HOME)/bmake/$(PETSC_ARCH)</CODE>).

<LI>
<P>
The <CODE>PROF_FLAGS</CODE> variables allows you to turn on profiling. By default, profiling is
deactivated. 

<LI>
<P>
The remaining are Makefile variables that point to directories containing
headers or libaries of required software. The lines come commented out and
a line like this

<P>
<PRE>   include $(PETSCFEM_DIR)/../Makefile.defs
</PRE>
<P>
includes a file containing the definitions. You have to either

<UL>
<LI>
<P>
Comment the <CODE>include</CODE> file out, uncomment the variable definition lines and set the appropriate
values, or 

<LI>
<P>
Edit a file <EM>$(PETSCFEM_DIR)/../Makefiles.defs</EM> (i.e., in the directory inmediately above the <CODE>$(PETSCFEM_DIR)</CODE> directory) containing the appropriate definitions.

</UL>
<P>
This last strategy allows you to configure several versions of
<STRONG>PETSc-FEM</STRONG> at the same directory, or changing the <STRONG>PETSc-FEM</STRONG>
version without having to reenter the variables. 

</UL>
<P>
<HR>
<H2><A NAME="Compiling">Compiling</A></H2>
<P>
<CODE>cd</CODE> to directory <CODE>$(PETSCFEM_DIR)</CODE> and do 

<P>
<PRE>  $ make depend
  $ make libpetscfem        # to build the library
  $ make all                # to build the library and all the modules
</PRE>
<P>
also

<P>
<PRE>  $ make what
</PRE>
<P>
can help you on other useful targets.

<P>
If nothing goes wrong you will end with a <EM>src/libpetscfem.a</EM> library and application binaries (ending in <CODE>.bin</CODE>) in their respective directories, e.g. <EM>applications/ns/ns.bin</EM> is the Navier-Stokes binary. 

<P>
<HR>
<H1><A NAME="DOCUMENTATION">DOCUMENTATION</A></H1>
<P>
Documentation for <EM>PETSc-FEM</EM> is included in the
<CODE>$(PETSCFEM_DIR)/doc</CODE> directory. There is basically a reference manual written in <EM>LaTeX</EM> (<EM>doc/petscfem.tex</EM>), and embedded documentation for the routines to be used with <CODE>Doc++</CODE>. In the standard distrib you should find both of them converted to HTML (<CODE>LaTeX</CODE> is converted with <CODE>latex2html</CODE>) and accessible from
<EM>doc/index.html</EM>. Other formats (perhaps PostScript) may be also found in the <CODE>doc</CODE> directory.

<P>
<HR>
<H1><A NAME="TESTS_AND_EXAMPLES">TESTS AND EXAMPLES</A></H1>
<P>
Many tests and examples are in the <CODE>$(PETSCFEM_DIR)/test</CODE> directory.

<P>
<HR>
<H1><A NAME="WRITING_A_NEW_APPLICATION_MODULE">WRITING A NEW APPLICATION MODULE</A></H1>
<P>
The best way to start coding an application program is to duplicate a
directory (for instance <CODE>applications/laplace</CODE>) to a directory from your own (i.e. outside the <CODE>$(PETSCFEM_DIR)</CODE> tree, say
<CODE>/your/appl/path</CODE>. Configure the <CODE>$(PETSCFEM_DIR)</CODE> variable in the local makefile (i.e. <CODE>/your/appl/path/Makefile</CODE>).You should have to configure other variables as well, perhaps <CODE>$(MYOBJS)</CODE> (this is a list of the object (<CODE>.o</CODE>) files in this local directory) and
<CODE>$(PROG)</CODE> (the name of the program to be built, without the suffix
<CODE>.bin</CODE>).

<P>
<HR>
<H1><A NAME="AUTHORS">AUTHORS</A></H1>
<P>
Mario A. Storti, Norberto M. Nigro and others. CIMEC, Internacional Centre
for Computational Methods in Engineering, Santa Fe, Argentina. 

<P>
<HR>
<H1><A NAME="CONTACTS">CONTACTS</A></H1>
<UL>
<LI>
<P>
<STRONG>e-mail:</STRONG>  <CODE>&lt;mstorti@intec.unl.edu.ar</CODE>&gt;

<LI>
<P>
<STRONG>www:</STRONG>  <CODE>http://minerva.arcride.edu.ar/petscfem</CODE>



<LI>
<P>
<STRONG>ordinary mail:</STRONG> Mario Storti, Guemes 3450, 3000 Santa Fe, Argentina.

</UL>
</BODY>

</HTML>
