# -*- mode: shell-script -*-
#
<:require '../eperlini.pl':>// # Initializes ePerl 

# Synchronize the time step with external frequency
<:
$Nx = 3;
$Ny = 2;
@vars = qw(Nx Ny);
octave_export_vars(">data.m.tmp",@vars);
:>//

global_options

nsave 100000000
save_file oscplate.sal
nstep 5

#    Iterative parameters
nnwt 3
tol_newton 0
atol 0
rtol 0
dtol 1e3
solver "iisd_petsc"
iisd_subpart 1

initial_state "couette.ini.tmp"
Dt 1
steady
alpha 1.
G_body 1. 0.
tau_fac 0.
#if 1
print_linear_system_and_stop
solve_system 0
#endif
__END_HASH__

# ndim nu ndof
nodes  2  2  3
__INCLUDE__ couette.nod.tmp
_END_NODES__

elemset nsi_tet_les_fm2 4
# elemset bubbly 4
props 
#
#Datos del elemento
#
name malla
geometry cartesian2d
ndim 2
npg 4
#
# Datos fisicos
#
weak_form 1
viscosity 1
__END_HASH__
__INCLUDE__ couette.con.tmp
__END_ELEMSET__

end_elemsets

fixa
1 1 0.
1 2 0.
1 3 0.
2 1 0.
2 2 0.
2 3 0.
3 1 0.
3 2 0.
3 3 0.
4 1 0.
4 2 0.
4 3 0.
6 1 0.
6 2 0.
6 3 0.
7 1 0.
7 2 0.
7 3 0.
9 1 0.
9 2 0.
9 3 0.
10 1 0.
10 2 0.
10 3 0.
11 1 0.
11 2 0.
11 3 0.
12 1 0.
12 2 0.
12 3 0.
__END_FIXA__
