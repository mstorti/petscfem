source("data.m.tmp");

## rem(N,2)==0 || warning("N should be even");

w=zhomo([0 1.5 0 1],Nx+1,Ny+1);
[xnod,icone] = pfcm2fem(w);
icone = icone(:,[1 4 3 2]);

usar_y = 0;
if usar_y
  xnod=xnod(:,[2 1]);
  icone = icone(:,[1 4 3 2]);
endif

asave("couette.nod.tmp",xnod);
asave("couette.con.tmp",icone);

U=0;
if !usar_y
  f=[U 0.  0.];
else
  f=[0. U  0.];
endif

nnod=rows(xnod);

uini = kron(ones(nnod,1),f);
x = xnod(:,1);
## uini(:,1) = x.*(1-x)*0.1;
asave("couette.ini.tmp",uini);


fid = fopen("couette.peri.tmp","w");
for k=1:2:nnod
  for dof = 1:3
    fprintf(fid,"%f %d %d %f %d %d\n",-1.,k+1,dof,1.,k,dof);
  end
end
fclose(fid);
