// -*- mode: c++ -*- 
// $Id: pfmat.sm.in,v 1.1.2.1 2002/01/07 16:26:00 mstorti Exp $
// This file is to be processed by SMC (State Machine Compiler)
Context pfmatFSMContext         // name of the context class
FSMName pfmatFSM                // name of the FSM to create
Initial clean                   // initial state for the machine
Header  pfmat.h                 // the name of the header file
                                // of the context class

// Format is <from-state> <event> <to-state> <actions>
{

  // fill operations are implemented directly in
  // the Mat class. The only action taken is to mark the matrix as
  // filled. 
  clean { set_profile profiling { }
          clear clean  { }
  }

  profiling { set_profile profiling { }
              create profiled { }
	      set_value profiled { create set_value }
  } 

  profiled set_value in_assembly {}

  in_assembly { set_value in_assembly {}
  // assembly_begin in_scatter {}
  }

#if 0
  in_scatter assembly_end assembled {}

  assembled { zero_entries profiled { }
              set_value in_assembly { }
              clear clean { }
	      solve factored { factor_and_solve }
  }
  factored { solve factored { solve_only }
             zero_entries profiled { clean_factor }
             clear clean { clean_factor }
  }
#endif
}
